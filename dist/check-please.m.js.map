{"version":3,"file":"check-please.m.js","sources":["../src/index.js"],"sourcesContent":["import type from '@tiaanduplessis/type'\n\n/**\n * Apply multiple validation functions to a value\n * @param {Function} funcs Validation function to apply\n *\n * @example\n * const isRequired = check(exists(\"It should exist\"))\n * isRequired(\"value\")\n */\nexport function check (...funcs) {\n  return val => {\n    for (let i = 0; i < funcs.length; i++) {\n      const current = funcs[i]\n\n      if (type.isFunc(current)) {\n        const result = current(val)\n        if (!result.valid) {\n          return result\n        }\n      }\n    }\n    return { valid: true, message: '' }\n  }\n}\n\n/**\n * Helper wrapper for creating validation function\n * @param {Function} func Function used for validation\n *\n * @example\n *\n * function longerThanFive(msg) {\n *  return checkWrapper(val => val.length > 5)(msg)\n * }\n */\nexport function checkWrapper (func = () => true) {\n  return (msg = '') => {\n    return val => {\n      const result = func(val)\n      return {\n        valid: result,\n        message: result ? '' : msg\n      }\n    }\n  }\n}\n\n/**\n * Check if value exists\n *\n * @param {String=} msg Message when validation fails\n *\n * @returns {Function}\n */\nexport function exists (msg) {\n  return checkWrapper(val => !type.isEmpty(val))(msg)\n}\n\n/**\n * Check if value does not exist\n *\n * @param {String=} msg Message when validation fails\n *\n * @returns {Function}\n */\nexport function empty (msg) {\n  return checkWrapper(type.isEmpty)(msg)\n}\n\n/**\n * Check if value is Boolean\n *\n * @param {String=} msg Message when validation fails\n *\n * @returns {Function}\n */\nexport function bool (msg) {\n  return checkWrapper(type.isBool)(msg)\n}\n\n/**\n * Check if value is Integer\n *\n * @param {String=} msg Message when validation fails\n *\n * @returns {Function}\n */\nexport function int (msg) {\n  return checkWrapper(val => type.isNum(val) && Number.isInteger(val))(msg)\n}\n\n/**\n * Check if value is Number\n *\n * @param {String=} msg Message when validation fails\n *\n * @returns {Function}\n */\nexport function num (msg) {\n  return checkWrapper(type.isNum)(msg)\n}\n\n/**\n * Check if value is String\n *\n * @param {String=} msg Message when validation fails\n *\n * @returns {Function}\n */\nexport function str (msg) {\n  return checkWrapper(type.isStr)(msg)\n}\n\n/**\n * Check if value matches given regex pattern\n *\n * @param {RegExp} pattern\n * @param {String=} msg Message when validation fails\n *\n * @returns {Function}\n *\n * @example\n *\n * check(pattern(/foo/), exists())\n */\nexport function pattern (pattern, msg) {\n  return checkWrapper(val => pattern && val && pattern.test(val))(msg)\n}\n\n/**\n *\n * @param {*} val\n * @param {*} msg\n */\nexport function exact (val, msg) {\n  return checkWrapper(cur => val && cur && val === cur)(msg)\n}\n"],"names":["check","val","let","i","funcs","length","const","current","type","isFunc","result","valid","message","checkWrapper","func","msg","exists","isEmpty","empty","bool","isBool","int","isNum","Number","isInteger","num","str","isStr","pattern","test","exact","cur"],"mappings":"oCAUO,SAASA,2DACd,gBAAOC,GACL,IAAKC,IAAIC,EAAI,EAAGA,EAAIC,EAAMC,OAAQF,IAAK,CACrCG,IAAMC,EAAUH,EAAMD,GAEtB,GAAIK,EAAKC,OAAOF,GAAU,CACxBD,IAAMI,EAASH,EAAQN,GACvB,IAAKS,EAAOC,MACV,OAAOD,GAIb,OAASC,OAAO,EAAMC,QAAS,KAc5B,SAASC,EAAcC,GAC5B,wCADyC,aACjCC,yBAAM,aACLd,GACLK,IAAMI,EAASI,EAAKb,GACpB,OACEU,MAAOD,EACPE,QAASF,EAAS,GAAKK,KAaxB,SAASC,EAAQD,GACtB,OAAOF,WAAaZ,UAAQO,EAAKS,QAAQhB,IAAlCY,CAAwCE,GAU1C,SAASG,EAAOH,GACrB,OAAOF,EAAaL,EAAKS,QAAlBJ,CAA2BE,GAU7B,SAASI,EAAMJ,GACpB,OAAOF,EAAaL,EAAKY,OAAlBP,CAA0BE,GAU5B,SAASM,EAAKN,GACnB,OAAOF,WAAaZ,UAAOO,EAAKc,MAAMrB,IAAQsB,OAAOC,UAAUvB,IAAxDY,CAA8DE,GAUhE,SAASU,EAAKV,GACnB,OAAOF,EAAaL,EAAKc,MAAlBT,CAAyBE,GAU3B,SAASW,EAAKX,GACnB,OAAOF,EAAaL,EAAKmB,MAAlBd,CAAyBE,GAe3B,SAASa,EAASA,EAASb,GAChC,OAAOF,WAAaZ,UAAO2B,GAAW3B,GAAO2B,EAAQC,KAAK5B,IAAnDY,CAAyDE,GAQ3D,SAASe,EAAO7B,EAAKc,GAC1B,OAAOF,WAAakB,UAAO9B,GAAO8B,GAAO9B,IAAQ8B,GAA1ClB,CAA+CE"}